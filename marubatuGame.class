package marubatuGame;

public class marubatuGame
{

	public static void main(String[] args)
	{


		String[][]bord=new String[3][3];
		System.out.println("まるばつゲームを始めます！ボードは3×3です");
		Player Player1=new Player("〇");
		Player Player2=new Player("×");
		for(int turnNo=1;turnNo<5;turnNo++)
		{
			System.out.println("～ターン"+turnNo+"～");
			outPutData(bord);
			System.out.println("Player1の番です");
			Player1.selectSpace(bord);
			if(Judge(bord)==-1)break;

			outPutData(bord);
			System.out.println("Player2の番です");
			Player2.selectSpace(bord);
			if(Judge(bord)==-1)break;

		}
		outPutData(bord);
		if(Judge(bord)==0)System.out.println("決着がつきませんでした。まるばつゲームを終了します。");

	}

	public static void outPutData(String bord[][])
	{
		for(int i=0;i<3;i++)
		{
			for(int j=0;j<3;j++)
			{
				System.out.print(bord[i][j]);
				if(j==2)
					{
						System.out.println("");
						break;
					}
				System.out.print("|");
			}
		}
	}
	public static int Judge(String bord[][])
	{
		if((bord[0][0]==bord[0][1]&&bord[0][0]==bord[0][2]&&bord[0][0]!=null) || (bord[1][0]==bord[1][1]&&bord[1][0]==bord[1][2]&&bord[1][0]!=null) || (bord[2][0]==bord[2][1]&&bord[2][0]==bord[2][2]&&bord[2][0]!=null)
				|| (bord[0][0]==bord[1][0]&&bord[0][0]==bord[2][0]&&bord[0][0]!=null) || (bord[1][0]==bord[1][1]&&bord[1][0]==bord[1][2]&&bord[1][0]!=null) || (bord[2][0]==bord[2][1]&&bord[2][0]==bord[2][2]&&bord[2][0]!=null)
				||(bord[2][0]==bord[1][1]&&bord[2][0]==bord[0][2]&&bord[1][1]!=null) || (bord[0][0]==bord[1][1]&&bord[0][0]==bord[2][2]&&bord[1][1]!=null))

		{
			if(bord[0][0]=="〇"||bord[1][1]=="〇"||bord[2][2]=="〇")
			{
				System.out.println("Player1の勝利です");
			}else
			{
				System.out.println("Player2の勝利です");
			}
			System.out.println("まるばつゲームを終了します。");
			return -1;

		}
		return 0;

	}


}
